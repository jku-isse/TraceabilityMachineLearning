public JComponent getComponent(Action[] choiceChangeActions, JComponent[] choiceComponents, int selectedGroupIndex) {
    myButtons = new AbstractButton[choiceChangeActions.length];
    myOptionComponents = new JComponent[choiceChangeActions.length];
    Box result = Box.createVerticalBox();
    myExporterToggles = new ButtonGroup();
    for (int i = 0; i < (choiceChangeActions.length); i++) {
        final int selectedIndex = i;
        final Action nextRealAction = choiceChangeActions[i];
        Action nextWrapperAction = new AbstractAction(String.valueOf(nextRealAction.getValue(Action.NAME))) {
            public void actionPerformed(ActionEvent e) {
                nextRealAction.actionPerformed(e);
                updateSelectionUI(selectedIndex);
            }
        };
        JRadioButton nextButton = new JRadioButton(nextWrapperAction);
        nextButton.setBorder(BorderFactory.createEmptyBorder(0, 0, 5, 0));
        JPanel nextExporterPanel = new JPanel(new BorderLayout());
        nextExporterPanel.add(nextButton, BorderLayout.NORTH);
        myButtons[i] = nextButton;
        myExporterToggles.add(nextButton);
        JComponent nextOptionComponent = choiceComponents[i];
        myOptionComponents[i] = nextOptionComponent;
        nextOptionComponent.setBorder(BorderFactory.createEmptyBorder(0, 30, 20, 0));
        nextExporterPanel.add(nextOptionComponent, BorderLayout.CENTER);
        setEnabledTree(nextOptionComponent, false);
        result.add(nextExporterPanel);
        // if (i == 0) {
        // nextButton.setSelected(true);
        // }
    }
    setSelected(selectedGroupIndex);
    return result;
}