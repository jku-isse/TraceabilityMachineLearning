public TimeFrame createTimeFrame(Date baseDate, TimeUnit topUnit, TimeUnit bottomUnit) {
    // if (topUnit instanceof TimeUnitFunctionOfDate) {
    // topUnit = ((TimeUnitFunctionOfDate)topUnit).createTimeUnit(baseDate);
    // }
    return new TimeFrameImpl(baseDate, topUnit, bottomUnit);
}