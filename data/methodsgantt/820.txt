public List getAllVisibleNodes() {
    List res = new ArrayList();
    Enumeration enumeration = rootNode.preorderEnumeration();
    while (enumeration.hasMoreElements()) {
        DefaultMutableTreeNode o = ((DefaultMutableTreeNode) (enumeration.nextElement()));
        if (getTreeTable().getTree().isVisible(new TreePath(o.getPath())))
            res.add(o);

    } 
    return res;
}