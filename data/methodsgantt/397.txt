private void saveRoleSets(TransformerHandler handler) throws TransformerConfigurationException, TransformerFactoryConfigurationError, SAXException {
    RoleSet[] roleSets = getRoleManager().getRoleSets();
    for (int i = 0; i < (roleSets.length); i++) {
        AttributesImpl attrs = new AttributesImpl();
        attrs.addAttribute("", "roleset-name", "roleset-name", "CDATA", roleSets[i].getName());
        handler.startElement("", "roles", "roles", attrs);
        saveRoles(roleSets[i], handler);
        handler.endElement("", "roles", "roles");
    }
}