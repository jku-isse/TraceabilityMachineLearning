private boolean isLooping(Set checked, Task incoming) {
    boolean result = false;
    Set newChecked = new LinkedHashSet(checked);
    newChecked.add(incoming);
    TaskDependency[] nextDeps = incoming.getDependenciesAsDependee().toArray();
    for (int i = 0; (!result) && (i < (nextDeps.length)); i++) {
        if (!(newChecked.contains(nextDeps[i].getDependant()))) {
            result = isLooping(newChecked, nextDeps[i].getDependant());
        } else {
            result = true;
        }
    }
    if (!result) {
        Task supertask = myTaskManager.getTaskHierarchy().getContainer(incoming);
        if ((supertask != null) && ((myTaskManager.getTaskHierarchy().getRootTask()) != supertask)) {
            result = isLooping(newChecked, supertask);
        }
    }
    return result;
}