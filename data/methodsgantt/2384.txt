public ExportFileWizardImpl(UIFacade uiFacade, IGanttProject project, Chart ganttChart, Chart resourceChart, Chart visibleChart, GanttOptions options) {
    super(uiFacade, GanttLanguage.getInstance().getText("exportWizard.dialog.title"));
    myUIFacade = uiFacade;
    myProject = project;
    myGanttChart = ganttChart;
    myResourceChart = resourceChart;
    myVisibleChart = visibleChart;
    myOptions = options;
    myState = new ExportFileWizardImpl.State(project.getDocument());
    if ((ExportFileWizardImpl.ourExporters) == null) {
        ExportFileWizardImpl.ourExporters = Mediator.getPluginManager().getExporters();
    }
    Exporter[] exporters = ExportFileWizardImpl.ourExporters;
    myState.setExporter(((ExportFileWizardImpl.ourLastSelectedExporter) == null ? exporters[0] : ExportFileWizardImpl.ourLastSelectedExporter));
    for (int i = 0; i < (exporters.length); i++) {
        exporters[i].setContext(project, uiFacade);
        if ((exporters[i]) instanceof ExportFileWizardImpl.LegacyOptionsClient) {
            ((ExportFileWizardImpl.LegacyOptionsClient) (exporters[i])).setOptions(myOptions);
        }
    }
    addPage(new ExporterChooserPage(exporters, myState));
    addPage(new FileChooserPage(myState, myProject));
}