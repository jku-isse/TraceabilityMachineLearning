public void actionPerformed(ActionEvent e) {
    TaskNode root = ((TaskNode) (tree.getRoot()));
    setOn((!(isOn())));
    putValue(Action.SMALL_ICON, createIcon(myOptions.getIconSize()));
    if (isOn()) {
        taskManager.processCriticalPath(root);
        ArrayList projectTasks = ((GanttTree2) (tree)).getProjectTasks();
        if ((projectTasks.size()) != 0)
            for (int i = 0; i < (projectTasks.size()); i++)
                taskManager.processCriticalPath(((TaskNode) (projectTasks.get(i))));


    }
    Mediator.getGanttProjectSingleton().repaint();
    appli.getUIFacade().setStatusText(GanttLanguage.getInstance().getText("criticalPath"));
}