public String getText(int requestedMaxLength, TextLengthCalculator calculator) {
    String result = null;
    if (!(calculator.getState().equals(myCalculatorState))) {
        myCalculatorState = calculator.getState();
        myMinimaxLong = calculator.getTextLength(myLongText);
        myMinimaxMedium = calculator.getTextLength(myMediumText);
        myMinimaxShort = calculator.getTextLength(myShortText);
    }
    result = getCachedText(requestedMaxLength);
    return result == null ? "" : result;
}