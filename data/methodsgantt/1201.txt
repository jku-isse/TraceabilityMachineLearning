public Task[] getNestedTasks(Task container) {
    Task[] result = null;
    DefaultMutableTreeNode treeNode = ((DefaultMutableTreeNode) (myTask2treeNode.get(container)));
    if (treeNode != null) {
        ArrayList list = new ArrayList();
        for (Enumeration children = treeNode.children(); children.hasMoreElements();) {
            DefaultMutableTreeNode next = ((DefaultMutableTreeNode) (children.nextElement()));
            if (next instanceof TaskNode)
                list.add(next.getUserObject());

        }
        result = ((Task[]) (list.toArray(new Task[0])));
    }
    return result == null ? new Task[0] : result;
}