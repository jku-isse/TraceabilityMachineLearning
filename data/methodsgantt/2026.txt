public void paint(GraphicPrimitiveContainer.Rectangle next) {
    Object modelObject = next.getModelObject();
    if ((modelObject instanceof TaskActivity) == false) {
        throw new RuntimeException("Model object is expected to be TaskActivity ");
    }
    Task task = ((TaskActivity) (modelObject)).getTask();
    Color c = task.getColor();
    if (c == null) {
        c = getDefaultColor();
    }
    Graphics2D g = ((Graphics2D) (myGraphics));
    g.setColor(c);
    ShapePaint shapePaint = task.getShape();
    if ((myConfig.isCriticalPathOn()) && (task.isCritical())) {
        shapePaint = new ShapePaint(ShapeConstants.THICK_BACKSLASH, Color.BLACK, c);
    }
    if (shapePaint != null) {
        g.setPaint(shapePaint);
    }
    g.fillRect(next.myLeftX, next.myTopY, next.myWidth, next.myHeight);
    g.setColor(Color.black);
    drawBorder(g, next);
}