private void ok() {
    // Mediator.getGanttProjectSingleton().setAskForSave(true);
    // String colName = fieldName.getText().trim();
    String colName = myName.getValue();
    Object defValue = null;
    if ((colName.length()) != 0) {
        Class colClass;
        int colType = getSelectedType(myType.getValue());
        switch (colType) {
            case 0 :
                colClass = String.class;
                defValue = textArea.getText();
                break;
            case 1 :
                colClass = Integer.class;
                String ti = fieldInteger.getText();
                if ((ti.trim().length()) > 0) {
                    defValue = new Integer(Integer.parseInt(ti));
                }
                break;
            case 2 :
                colClass = Double.class;
                String td = fieldDouble.getText();
                if ((td.trim().length()) > 0) {
                    defValue = new Double(Double.parseDouble(td));
                }
                break;
            case 3 :
                colClass = GregorianCalendar.class;
                defValue = ((myDate.getValue()) == null) ? null : new GanttCalendar(myDate.getValue());
                break;
            case 4 :
                colClass = Boolean.class;
                defValue = new Boolean(radioTrue.isSelected());
                break;
            default :
                // normally never reached.
                colClass = String.class;
                defValue = "default";
        }
        if ((customColumn) != null) {
            customColumn.setName(colName);
            customColumn.setType(colClass);
            if ((myDefaultValue.isChecked()) && (defValue != null)) {
                customColumn.setDefaultValue(defValue);
            }
        }
        isOk = true;
    }
}