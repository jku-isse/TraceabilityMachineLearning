public void setPattern(ShapePaint pattern) {
    preview.setPattern(pattern);
    if (compactDisplay) {
        patternCombo.setSelectedItem(new ShapePaint(pattern, Color.black, Color.white));
        foregroundCombo.setSelectedItem(pattern.foreground);
        backgroundCombo.setSelectedItem(pattern.background);
    } else {
        patternList.setSelectedValue(new ShapePaint(pattern, Color.black, Color.white), true);
        foregroundList.setSelectedValue(pattern.foreground, true);
        backgroundList.setSelectedValue(pattern.background, true);
    }
    fireActionEvent();
}