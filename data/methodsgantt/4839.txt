private void registerTimeUnit(TimeUnit unit, int atomCount) {
    TimeUnit atomUnit = unit.getDirectAtomUnit();
    List transitiveCompositions = ((List) (myUnit2compositions.get(atomUnit)));
    if (transitiveCompositions == null) {
        throw new RuntimeException((("Atom unit=" + atomUnit) + " is unknown"));
    }
    List compositions = new ArrayList(((transitiveCompositions.size()) + 1));
    compositions.add(new TimeUnitGraph.Composition(unit, 1));
    for (int i = 0; i < (transitiveCompositions.size()); i++) {
        TimeUnitGraph.Composition nextTransitive = ((TimeUnitGraph.Composition) (transitiveCompositions.get(i)));
        compositions.add(new TimeUnitGraph.Composition(nextTransitive, atomCount));
    }
    myUnit2compositions.put(unit, compositions);
}