public StyledPainterImpl(ChartUIConfiguration configuration) {
    // myGraphics = g;
    myStyle2painter.put("task", myTaskRectanglePainter);
    myStyle2painter.put("task.start", myTaskStartRectanglePainter);
    myStyle2painter.put("task.end", myTaskEndRectanglePainter);
    myStyle2painter.put("task.startend", myTaskStartEndRectanglePainter);
    myConfig = configuration;
    myStyle2painter.put("calendar.holiday", myCalendarHolidayPainter);
    myStyle2painter.put("task.milestone", myMilestonePanter);
    myStyle2painter.put("task.holiday", myTaskHolidayRectanglePainter);
    myStyle2painter.put("task.supertask", myTaskSupertaskRectanglePainter);
    myStyle2painter.put("task.supertask.start", mySupertaskStartPainter);
    myStyle2painter.put("task.supertask.end", mySupertaskEndPainter);
    myStyle2painter.put("task.projectTask", myTaskProjectTaskRectanglePainter);
    myStyle2painter.put("task.projectTask.start", myProjectTaskStartPainter);
    myStyle2painter.put("task.projectTask.end", myProjectTaskEndPainter);
    myStyle2painter.put("task.progress", new StyledPainterImpl.ColouredRectanglePainter(Color.BLACK));
    myStyle2painter.put("task.progress.end", new StyledPainterImpl.ColouredRectanglePainter(Color.BLACK));
    myStyle2painter.put("load.normal", myResourceLoadPainter);
    myStyle2painter.put("load.normal.first", myResourceLoadPainter);
    myStyle2painter.put("load.normal.last", myResourceLoadPainter);
    myStyle2painter.put("load.normal.first.last", myResourceLoadPainter);
    myStyle2painter.put("load.overload", myResourceLoadPainter);
    myStyle2painter.put("dependency.arrow.down", myArrowDownPainter);
    myStyle2painter.put("load.overload.first", myResourceLoadPainter);
    myStyle2painter.put("load.overload.last", myResourceLoadPainter);
    myStyle2painter.put("load.overload.first.last", myResourceLoadPainter);
    myStyle2painter.put("dependency.arrow.up", myArrowUpPainter);
    myStyle2painter.put("dependency.arrow.left", myArrowLeftPainter);
    myStyle2painter.put("dependency.arrow.right", myArrowRightPainter);
    myStyle2painter.put("dayoff", myDayOffPainter);
    myStyle2painter.put("load.underload", myResourceLoadPainter);
    myStyle2painter.put("load.underload.first", myResourceLoadPainter);
    myStyle2painter.put("load.underload.last", myResourceLoadPainter);
    myStyle2painter.put("load.underload.first.last", myResourceLoadPainter);
    myStyle2painter.put("previousStateTask", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.earlier", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.later", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.milestone", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.milestone.earlier", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.milestone.later", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super.earlier", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super.later", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super.apart", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super.apart.earlier", myPreviousStateTaskRectanglePainter);
    myStyle2painter.put("previousStateTask.super.apart.later", myPreviousStateTaskRectanglePainter);
    myTextLengthCalculator = new TextLengthCalculatorImpl(myGraphics);
    margin = myConfig.getMargin();
}