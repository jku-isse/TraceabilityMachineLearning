/**
 * Constains a value to the given range.
 *
 * @return the constrained value
 */
public static double range(double min, double max, double value) {
    if (value < min) {
        value = min;
    }
    if (value > max) {
        value = max;
    }
    return value;
}