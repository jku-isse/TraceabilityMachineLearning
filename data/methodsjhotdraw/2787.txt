/**
 * Gets the drawing area without taking the decorator into account.
 */
protected Rectangle2D.Double getFigureDrawingArea() {
    if ((getText()) == null) {
        return getBounds();
    } else {
        TextLayout layout = getTextLayout();
        Rectangle2D.Double r = new Rectangle2D.Double(origin.x, origin.y, layout.getAdvance(), layout.getAscent());
        Rectangle2D lBounds = layout.getBounds();
        if ((!(lBounds.isEmpty())) && (!(Double.isNaN(lBounds.getX())))) {
            r.add(new Rectangle2D.Double(((lBounds.getX()) + (origin.x)), (((lBounds.getY()) + (origin.y)) + (layout.getAscent())), lBounds.getWidth(), lBounds.getHeight()));
        }
        // grow by two pixels to take antialiasing into account
        Geom.grow(r, 2.0, 2.0);
        return r;
    }
}