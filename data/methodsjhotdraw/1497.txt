/**
 * Finds a connection end figure.
 */
protected Connector findConnectableConnector(Figure connectableFigure, Point2D.Double p) {
    Connector target = (connectableFigure == null) ? null : connectableFigure.findConnector(p, getConnection());
    if ((((connectableFigure != null) && (connectableFigure.canConnect())) && (!(connectableFigure.includes(getOwner())))) && (getConnection().canConnect(connector, target))) {
        return target;
    }
    return null;
}