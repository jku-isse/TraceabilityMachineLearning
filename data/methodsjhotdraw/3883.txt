private void init() {
    if (((getOwner()) != null) && (isShowAsSheet())) {
        if (JSheet.isNativeSheetSupported()) {
            getRootPane().putClientProperty("apple.awt.documentModalSheet", Boolean.TRUE);
        } else {
            setUndecorated(true);
            getRootPane().setWindowDecorationStyle(JRootPane.NONE);
            getRootPane().setBorder(UIManager.getBorder("Sheet.border"));
        }
        if (JSheet.isDocumentModalitySupported()) {
            Methods.invokeIfExistsWithEnum(this, "setModalityType", "java.awt.Dialog$ModalityType", "DOCUMENT_MODAL");
        }
    }
    // We move the sheet when the user moves the owner, so that it
    // will always stay centered below the title bar of the owner.
    // If the user has moved the owner, we forget the shift back location,
    // and dont shift the owner back to the place it was, when we opened
    // the sheet.
    ownerMovementHandler = new ComponentAdapter() {
        public void componentMoved(ComponentEvent evt) {
            Window owner = getOwner();
            Point newLocation = owner.getLocation();
            if (!(newLocation.equals(oldLocation))) {
                setLocation(((newLocation.x) + (((owner.getWidth()) - (getWidth())) / 2)), ((newLocation.y) + (owner.getInsets().top)));
                shiftBackLocation = null;
                oldLocation = newLocation;
            }
        }
    };
}