/**
 * Returns the amount of space the layout would like to have.
 *
 * @param parent
 * 		the Container for which this layout manager
 * 		is being used
 * @return a Dimension object containing the layouts preferred size
 */
public Dimension preferredLayoutSize(Container parent) {
    Dimension rd;
    Dimension mbd;
    Insets i = rootPane.getInsets();
    Container contentPane = rootPane.getContentPane();
    JMenuBar menuBar = rootPane.getJMenuBar();
    if ((contentPane != null) && (contentPane.isVisible())) {
        rd = contentPane.getPreferredSize();
    } else {
        rd = new Dimension(0, contentPane.getPreferredSize().height);
    }
    if ((menuBar != null) && (menuBar.isVisible())) {
        mbd = menuBar.getPreferredSize();
    } else {
        mbd = new Dimension(0, 0);
    }
    return new Dimension((((Math.max(rd.width, mbd.width)) + (i.left)) + (i.right)), ((((rd.height) + (mbd.height)) + (i.top)) + (i.bottom)));
}