/**
 * Draws the arrow tip in the direction specified by the given two
 * Points.. (template method)
 */
public void draw(Graphics2D g, Figure f, Point2D.Double p1, Point2D.Double p2) {
    GeneralPath path = getTransformedDecoratorPath(f, p1, p2);
    Color color;
    if (isFilled) {
        if (isSolid) {
            color = AttributeKeys.STROKE_COLOR.get(f);
        } else {
            color = AttributeKeys.FILL_COLOR.get(f);
        }
        if (color != null) {
            g.setColor(color);
            g.fill(path);
        }
    }
    if (isStroked) {
        color = AttributeKeys.STROKE_COLOR.get(f);
        if (color != null) {
            g.setColor(color);
            g.setStroke(AttributeKeys.getStroke(f));
            g.draw(path);
        }
    }
}