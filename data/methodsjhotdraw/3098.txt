/**
 * Creates a button which toggles between two GridConstrainer for
 * a DrawingView.
 */
public static AbstractButton createToggleGridButton(final DrawingView view) {
    ResourceBundleUtil labels = ResourceBundleUtil.getBundle("org.jhotdraw.draw.Labels");
    final JToggleButton toggleButton;
    toggleButton = new JToggleButton();
    labels.configureToolBarButton(toggleButton, "view.toggleGrid");
    toggleButton.setFocusable(false);
    toggleButton.addItemListener(new ItemListener() {
        public void itemStateChanged(ItemEvent event) {
            view.setConstrainerVisible(toggleButton.isSelected());
            // view.getComponent().repaint();
        }
    });
    view.addPropertyChangeListener(new PropertyChangeListener() {
        public void propertyChange(PropertyChangeEvent evt) {
            // String constants are interned
            if ((evt.getPropertyName()) == (DrawingView.CONSTRAINER_VISIBLE_PROPERTY)) {
                toggleButton.setSelected(view.isConstrainerVisible());
            }
        }
    });
    return toggleButton;
}