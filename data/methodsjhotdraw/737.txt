public Rectangle2D.Double getFigureDrawBounds() {
    double width = (AttributeKeys.getStrokeTotalWidth(this)) / 2.0;
    if ((AttributeKeys.STROKE_JOIN.get(this)) == (BasicStroke.JOIN_MITER)) {
        width *= AttributeKeys.STROKE_MITER_LIMIT.get(this);
    }
    width++;
    Rectangle2D.Double r = getBounds();
    Geom.grow(r, width, width);
    return r;
}