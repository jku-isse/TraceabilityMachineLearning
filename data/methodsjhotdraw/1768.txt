/**
 * Hook method which can be overriden by subclasses to provide
 * specialised behaviour in the event of a popup trigger.
 */
protected void handlePopupMenu(MouseEvent evt) {
    Point p = new Point(evt.getX(), evt.getY());
    Figure figure = getView().findFigure(p);
    if ((figure != null) || ((drawingActions.size()) > 0)) {
        showPopupMenu(figure, p, evt.getComponent());
    } else {
        popupMenu = null;
    }
}