/**
 * No longer used, use PaletteToolBarUI.createFloatingWindow(JToolBar)
 *
 * @see #createFloatingWindow
 */
protected JFrame createFloatingFrame(JToolBar toolbar) {
    Window window = SwingUtilities.getWindowAncestor(toolbar);
    JFrame frame = new JFrame(toolbar.getName(), (window != null ? window.getGraphicsConfiguration() : null)) {
        // Override createRootPane() to automatically resize
        // the frame when contents change
        protected JRootPane createRootPane() {
            JRootPane rootPane = new JRootPane() {
                private boolean packing = false;

                public void validate() {
                    super.validate();
                    if (!(packing)) {
                        packing = true;
                        pack();
                        packing = false;
                    }
                }
            };
            rootPane.setOpaque(true);
            return rootPane;
        }
    };
    frame.getRootPane().setName("ToolBar.FloatingFrame");
    frame.setResizable(false);
    WindowListener wl = createFrameListener();
    frame.addWindowListener(wl);
    return frame;
}