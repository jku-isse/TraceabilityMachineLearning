/**
 * Updates the list of connectors that we draw when the user
 * moves or drags the mouse over a figure to which can connect.
 */
public void repaintConnectors(MouseEvent evt) {
    Rectangle2D.Double invalidArea = null;
    Point2D.Double targetPoint = viewToDrawing(new Point(evt.getX(), evt.getY()));
    Figure aFigure = getDrawing().findFigureExcept(targetPoint, createdFigure);
    if ((aFigure != null) && (!(aFigure.canConnect()))) {
        aFigure = null;
    }
    if ((targetFigure) != aFigure) {
        for (Connector c : connectors) {
            if (invalidArea == null) {
                invalidArea = c.getDrawingArea();
            } else {
                invalidArea.add(c.getDrawingArea());
            }
        }
        targetFigure = aFigure;
        if ((targetFigure) != null) {
            connectors = targetFigure.getConnectors(getPrototype());
            for (Connector c : connectors) {
                if (invalidArea == null) {
                    invalidArea = c.getDrawingArea();
                } else {
                    invalidArea.add(c.getDrawingArea());
                }
            }
        }
    }
    if (invalidArea != null) {
        getView().getComponent().repaint(getView().drawingToView(invalidArea));
    }
}