@Override
public void actionPerformed(ActionEvent e) {
    if ((EditorColorChooserAction.colorChooser) == null) {
        EditorColorChooserAction.colorChooser = new JColorChooser();
    }
    Color initialColor = getInitialColor();
    // FIXME - Reuse colorChooser object instead of calling static method here.
    Color chosenColor = EditorColorChooserAction.colorChooser.showDialog(((Component) (e.getSource())), labels.getString("attribute.color.text"), initialColor);
    if (chosenColor != null) {
        HashMap<AttributeKey, Object> attr = new HashMap<AttributeKey, Object>(attributes);
        attr.put(key, chosenColor);
        applyAttributesTo(attr, getView().getSelectedFigures());
    }
}