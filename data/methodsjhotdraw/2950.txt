public Rectangle2D.Double getDrawingArea() {
    double totalStrokeWidth = AttributeKeys.getStrokeTotalWidth(this);
    double width = 0.0;
    if ((AttributeKeys.STROKE_COLOR.get(this)) != null) {
        switch (AttributeKeys.STROKE_PLACEMENT.get(this)) {
            case INSIDE :
                width = 0.0;
                break;
            case OUTSIDE :
                if ((AttributeKeys.STROKE_JOIN.get(this)) == (BasicStroke.JOIN_MITER)) {
                    width = totalStrokeWidth * (AttributeKeys.STROKE_MITER_LIMIT.get(this));
                } else {
                    width = totalStrokeWidth;
                }
                break;
            case CENTER :
                if ((AttributeKeys.STROKE_JOIN.get(this)) == (BasicStroke.JOIN_MITER)) {
                    width = (totalStrokeWidth / 2.0) * (AttributeKeys.STROKE_MITER_LIMIT.get(this));
                } else {
                    width = totalStrokeWidth / 2.0;
                }
                break;
        }
    }
    width++;
    Rectangle2D.Double r = getBounds();
    Geom.grow(r, width, width);
    return r;
}