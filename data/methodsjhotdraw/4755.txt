@Override
protected JFileChooser createSaveChooser() {
    JFileChooser c = new JFileChooser();
    fileFilterOutputFormatMap = new HashMap<FileFilter, OutputFormat>();
    // c.addChoosableFileFilter(new ExtensionFileFilter("SVG Drawing","svg"));
    for (OutputFormat format : view.getDrawing().getOutputFormats()) {
        FileFilter ff = format.getFileFilter();
        fileFilterOutputFormatMap.put(ff, format);
        c.addChoosableFileFilter(ff);
        break;// only add the first file filter

    }
    if ((preferences) != null) {
        c.setSelectedFile(new File(preferences.get("projectFile", System.getProperty("user.home"))));
    }
    return c;
}