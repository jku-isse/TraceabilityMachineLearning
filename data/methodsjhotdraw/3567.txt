public void addPoint(double x, double y) {
    if (((npoints) >= (xpoints.length)) || ((npoints) >= (ypoints.length))) {
        int newLength = (npoints) * 2;
        // Make sure that newLength will be greater than MIN_LENGTH and
        // aligned to the power of 2
        if (newLength < (Polygon2D.MIN_LENGTH)) {
            newLength = Polygon2D.MIN_LENGTH;
        } else
            if ((newLength & (newLength - 1)) != 0) {
                newLength = Integer.highestOneBit(newLength);
            }

        double[] helper = new double[newLength];
        System.arraycopy(xpoints, 0, helper, 0, npoints);
        xpoints = helper;
        helper = new double[newLength];
        System.arraycopy(ypoints, 0, helper, 0, npoints);
        ypoints = helper;
    }
    xpoints[npoints] = x;
    ypoints[npoints] = y;
    (npoints)++;
    if ((bounds) != null) {
        updateBounds(x, y);
    }
}