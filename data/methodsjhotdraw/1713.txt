@Override
public void exportAsDrag(JComponent comp, InputEvent e, int action) {
    if (DefaultDrawingViewTransferHandler.DEBUG) {
        System.out.println(((this) + ".exportAsDrag"));
    }
    if (comp instanceof DrawingView) {
        DrawingView view = ((DrawingView) (comp));
        HashSet<Figure> transferFigures = new HashSet<Figure>();
        exportedFigures = transferFigures;
        MouseEvent me = ((MouseEvent) (e));
        Figure f = view.findFigure(me.getPoint());
        if (view.getSelectedFigures().contains(f)) {
            transferFigures.addAll(view.getSelectedFigures());
        } else {
            transferFigures.add(f);
        }
        Rectangle2D.Double drawingArea = null;
        for (Figure fig : transferFigures) {
            if (drawingArea == null) {
                drawingArea = fig.getDrawingArea();
            } else {
                drawingArea.add(fig.getDrawingArea());
            }
        }
        Rectangle viewArea = view.drawingToView(drawingArea);
        Point imageOffset = me.getPoint();
        imageOffset.x = (viewArea.x) - (imageOffset.x);
        imageOffset.y = (viewArea.y) - (imageOffset.y);
        int srcActions = getSourceActions(comp);
        DefaultDrawingViewTransferHandler.SwingDragGestureRecognizer recognizer = new DefaultDrawingViewTransferHandler.SwingDragGestureRecognizer(new DefaultDrawingViewTransferHandler.DragHandler(createTransferable(view, transferFigures), imageOffset));
        recognizer.gestured(comp, me, srcActions, action);
        // XXX - What kind of drag gesture can we support for this??
    } else {
        super.exportAsDrag(comp, e, action);
    }
}