public static void main(String[] args) {
    try {
        // Set up the DefaultDOMFactory
        DefaultDOMFactory factory = new DefaultDOMFactory();
        factory.addStorableClass("MyElementName", DefaultDOMStorableSample.MyObject.class);
        // Create a DOMStorable object
        DefaultDOMStorableSample.MyObject obj = new DefaultDOMStorableSample.MyObject("Hello World");
        System.out.println(("The name of the original object is:" + (obj.getName())));
        // Write the object into a DOM, and then serialize the DOM into a String
        NanoXMLDOMOutput out = new NanoXMLDOMOutput(factory);
        out.writeObject(obj);
        StringWriter writer = new StringWriter();
        out.save(writer);
        String serializedString = writer.toString();
        System.out.println(("
The serialized representation of the object is:
" + serializedString));
        // Deserialize a DOM from a String, and then read the object from the DOM
        StringReader reader = new StringReader(serializedString);
        NanoXMLDOMInput in = new NanoXMLDOMInput(factory, reader);
        DefaultDOMStorableSample.MyObject obj2 = ((DefaultDOMStorableSample.MyObject) (in.readObject()));
        System.out.println(("
The name of the restored object is:" + (obj2.getName())));
    } catch (IOException ex) {
        Logger.getLogger(DefaultDOMStorableSample.class.getName()).log(Level.SEVERE, null, ex);
    }
}