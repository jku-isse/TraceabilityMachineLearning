@Override
public Rectangle2D.Double getDrawingArea() {
    Rectangle2D rx = getTransformedShape().getBounds2D();
    Rectangle2D.Double r = (rx instanceof Rectangle2D.Double) ? ((Rectangle2D.Double) (rx)) : new Rectangle2D.Double(rx.getX(), rx.getY(), rx.getWidth(), rx.getHeight());
    if ((AttributeKeys.TRANSFORM.get(this)) == null) {
        double g = (ODGAttributeKeys.getPerpendicularHitGrowth(this)) * 2;
        Geom.grow(r, g, g);
    } else {
        double strokeTotalWidth = AttributeKeys.getStrokeTotalWidth(this);
        double width = strokeTotalWidth / 2.0;
        width *= Math.max(AttributeKeys.TRANSFORM.get(this).getScaleX(), AttributeKeys.TRANSFORM.get(this).getScaleY());
        Geom.grow(r, width, width);
    }
    return r;
}