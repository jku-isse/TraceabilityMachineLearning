/**
 * Finds an existing connection figure.
 */
protected ConnectionFigure findConnection(Point2D.Double p, Drawing drawing) {
    for (Figure f : drawing.getFiguresFrontToBack()) {
        Figure fInside = f.findFigureInside(p);
        if ((fInside != null) && (fInside instanceof ConnectionFigure)) {
            return ((ConnectionFigure) (fInside));
        }
    }
    return null;
}