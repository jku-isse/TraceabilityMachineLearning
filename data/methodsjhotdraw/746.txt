/**
 * Sets an attribute of the figure.
 * AttributeKey name and semantics are defined by the class implementing
 * the figure interface.
 */
@Override
public <T> void setAttribute(AttributeKey<T> key, T newValue) {
    if (((forbiddenAttributes) == null) || (!(forbiddenAttributes.contains(key)))) {
        Object oldValue = attributes.put(key, newValue);
        setAttributeOnChildren(key, newValue);
        fireAttributeChanged(key, oldValue, newValue);
    }
}