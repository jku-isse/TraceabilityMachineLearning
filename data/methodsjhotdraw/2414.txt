public void read(InputStream in, Drawing drawing, boolean replace) throws IOException {
    try {
        Image img = PictImageInputFormat.getImageFromPictStream(in);
        if (img == null) {
            throw new IOException("Couldnt read pict image");
        }
        ImageHolderFigure figure = ((ImageHolderFigure) (prototype.clone()));
        figure.setBufferedImage(Images.toBufferedImage(img));
        figure.setBounds(new Point2D.Double(0, 0), new Point2D.Double(figure.getBufferedImage().getWidth(), figure.getBufferedImage().getHeight()));
        if (replace) {
            drawing.removeAllChildren();
        }
        drawing.basicAdd(figure);
    } finally {
        in.close();
    }
}