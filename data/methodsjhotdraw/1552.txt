/**
 * Reads a list of figures into the specified drawing.
 * This method expects that there is a child element named "figures"
 * in the element that represents the drawing.
 */
protected void read(URL url, InputStream in, Drawing drawing, LinkedList<Figure> figures) throws IOException {
    NanoXMLDOMInput domi = new NanoXMLDOMInput(factory, in);
    domi.openElement(factory.getName(drawing));
    domi.openElement("figures", 0);
    figures.clear();
    for (int i = 0, n = domi.getElementCount(); i < n; i++) {
        Figure f = ((Figure) (domi.readObject()));
        figures.add(f);
    }
    domi.closeElement();
    domi.closeElement();
    drawing.basicAddAll(drawing.getChildCount(), figures);
}