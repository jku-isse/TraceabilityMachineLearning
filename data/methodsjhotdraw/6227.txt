/**
 * Sets the maximum permissible value. If the <code>valueClass</code> has
 * not been specified, and <code>max</code> is non null, the
 * <code>valueClass</code> will be set to that of the class of
 * <code>max</code>.
 *
 * @param max
 * 		Maximum legal value that can be input
 * @see #setValueClass
 */
public void setMaximum(Comparable max) {
    if (((getValueClass()) == null) && (max != null)) {
        setValueClass(max.getClass());
    }
    this.max = max;
}