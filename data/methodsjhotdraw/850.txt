public void write(DOMOutput out) throws IOException {
    out.openElement("children");
    for (Figure child : getChildren()) {
        out.writeObject(child);
    }
    out.closeElement();
}