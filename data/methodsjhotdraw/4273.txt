protected void installListeners() {
    dockingListener = createDockingListener();
    if ((dockingListener) != null) {
        toolBar.addMouseMotionListener(dockingListener);
        toolBar.addMouseListener(dockingListener);
    }
    propertyListener = createPropertyListener();// added in setFloating

    if ((propertyListener) != null) {
        toolBar.addPropertyChangeListener(propertyListener);
    }
    toolBarContListener = createToolBarContListener();
    if ((toolBarContListener) != null) {
        toolBar.addContainerListener(toolBarContListener);
    }
    toolBarFocusListener = createToolBarFocusListener();
    if ((toolBarFocusListener) != null) {
        // Put focus listener on all components in toolbar
        Component[] components = toolBar.getComponents();
        for (int i = 0; i < (components.length); ++i) {
            components[i].addFocusListener(toolBarFocusListener);
        }
    }
}