/**
 * Determines the offset of the start of the given line.
 *
 * @param line
 * 		the line number to translate >= 0
 * @return the offset >= 0
 * @exception BadLocationException thrown if the line is
less than zero or greater or equal to the number of
lines contained in the document (as reported by
getLineCount).
 */
public int getLineStartOffset(int line) throws BadLocationException {
    Document doc = getDocument();
    Element map = doc.getDefaultRootElement();
    int lineCount = map.getElementCount();
    // int lineCount = getLineCount();
    if (line < 0) {
        throw new BadLocationException("Negative line", (-1));
    } else
        if (line >= lineCount) {
            throw new BadLocationException("No such line", ((doc.getLength()) + 1));
        } else {
            Element lineElem = map.getElement(line);
            return lineElem.getStartOffset();
        }

}