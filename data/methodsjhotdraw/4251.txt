protected PaletteToolBarUI.DragWindow createDragWindow(JToolBar toolbar) {
    Window frame = null;
    if ((toolBar) != null) {
        Container p;
        for (p = toolBar.getParent(); (p != null) && (!(p instanceof Window)); p = p.getParent());
        if ((p != null) && (p instanceof Window)) {
            frame = ((Window) (p));
        }
    }
    if ((floatingToolBar) == null) {
        floatingToolBar = createFloatingWindow(toolBar);
    }
    if ((floatingToolBar) instanceof Window) {
        frame = ((Window) (floatingToolBar));
    }
    PaletteToolBarUI.DragWindow w = new PaletteToolBarUI.DragWindow(frame);
    if (w instanceof RootPaneContainer) {
        JRootPane rp = ((RootPaneContainer) (w)).getRootPane();
        rp.putClientProperty("Window.alpha", new Float(0.6F));
    }
    return w;
}