/**
 * Replaces text from the indicated start to end position with the
 * new text specified.  Does nothing if the model is null.  Simply
 * does a delete if the new string is null or empty.
 * <p>
 * This method is thread safe, although most Swing methods
 * are not. Please see
 * <A HREF="http://java.sun.com/products/jfc/swingdoc-archive/threads.html">Threads
 * and Swing</A> for more information.
 *
 * @param str
 * 		the text to use as the replacement
 * @param start
 * 		the start position >= 0
 * @param end
 * 		the end position >= start
 * @exception IllegalArgumentException  if part of the range is an
invalid position in the model
 */
public void replaceRange(String str, int start, int end) {
    if (end < start) {
        throw new IllegalArgumentException("end before start");
    }
    Document doc = getDocument();
    if (doc != null) {
        try {
            if (doc instanceof AbstractDocument) {
                ((AbstractDocument) (doc)).replace(start, (end - start), str, null);
            } else {
                doc.remove(start, (end - start));
                doc.insertString(start, str, null);
            }
        } catch (BadLocationException e) {
            throw new IllegalArgumentException(e.getMessage());
        }
    }
}