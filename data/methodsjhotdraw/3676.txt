public void paintIcon(Component component, Graphics g, int x, int y) {
    JComponent c = ((JComponent) (component));
    int nbOfStates = ((c.getClientProperty(DisclosureIcon.STATE_COUNT_PROPERTY)) instanceof Integer) ? ((Integer) (c.getClientProperty(DisclosureIcon.STATE_COUNT_PROPERTY))) : 2;
    int currentState = ((c.getClientProperty(DisclosureIcon.CURRENT_STATE_PROPERTY)) instanceof Integer) ? ((Integer) (c.getClientProperty(DisclosureIcon.CURRENT_STATE_PROPERTY))) : 1;
    g.setColor(Color.black);
    g.drawRect(x, y, ((getIconWidth()) - 1), ((getIconHeight()) - 1));
    g.setColor(new Color(6710886));
    g.fillRect((x + 1), (y + 1), (1 + ((((getIconWidth()) - 3) * currentState) / (nbOfStates - 1))), ((getIconHeight()) - 2));
}