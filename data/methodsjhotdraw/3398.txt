/**
 * Joins two segments into one if the given Point2D.Double hits a node
 * of the bezier path.
 *
 * @return the index of the joined segment or -1 if no segment was joined.
 */
public int joinSegments(Point2D.Double join, double tolerance) {
    for (int i = 0; i < (size()); i++) {
        BezierPath.Node p = get(i);
        if ((Geom.length(p.x[0], p.y[0], join.x, join.y)) < tolerance) {
            remove(i);
            return i;
        }
    }
    return -1;
}