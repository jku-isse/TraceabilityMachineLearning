/**
 * Accessor for text area.
 * This is used by Actions that need ot act on the text area of the View.
 */
public int getLineStartOffset(int line) throws BadLocationException {
    // return editor.getLineStartOffset(line);
    int lineCount = getLineCount();
    if (line < 0) {
        throw new BadLocationException("Negative line", (-1));
    } else
        if (line >= lineCount) {
            throw new BadLocationException("No such line", ((getDocument().getLength()) + 1));
        } else {
            Element map = getDocument().getDefaultRootElement();
            Element lineElem = map.getElement(line);
            return lineElem.getStartOffset();
        }

}