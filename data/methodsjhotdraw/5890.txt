/**
 * adds parameters to the request
 *
 * @param parameters
 * 		"name-to-value" map of parameters; if a value is a file, the file is uploaded, otherwise it is stringified and sent in the request
 * @throws IOException
 * 		
 */
public void setParameters(Map parameters) throws IOException {
    if (parameters != null) {
        for (Iterator i = parameters.entrySet().iterator(); i.hasNext();) {
            Map.Entry entry = ((Map.Entry) (i.next()));
            setParameter(entry.getKey().toString(), entry.getValue());
        }
    }
}