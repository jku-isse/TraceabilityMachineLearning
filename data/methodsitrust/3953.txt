/* Authenticate HCP 9000000000 and Patient 2. HCP 9000000000 has ordered lab procedure 10763-1 for patient
1 in an office visit on 7/20/2007. InputLabResults has successfully passed. All lab procedure test data
is in database. HCP 9000000000 has authenticated successfully 1. The HCP chooses to view laboratory
procedure results and selects patient 2 2. The LCHP sorts by dates of the last status update. 3. The
LHCP chooses the top procedure (the procedure from InputLabResults). 4. The LHCP allows viewing access
to the laboratory results.
 */
public void testHcpLabProc() throws Exception {
    // login hcp
    WebConversation wc = login("9000000000", "pw");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - HCP Home", wr.getTitle());
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 9000000000L, 0L, "");
    // click on Edit ND Codes
    wr = wr.getLinkWith("Laboratory Procedures").click();
    // choose patient 1
    WebForm patientForm = wr.getForms()[0];
    patientForm.getScriptableObject().setParameterValue("UID_PATIENTID", "2");
    patientForm.getButtons()[1].click();
    wr = wc.getCurrentPage();
    // add the codes and description
    assertEquals("iTrust - View Laboratory Procedures", wr.getTitle());
    wr = wr.getLinkWith("Allow/Disallow Viewing").click();
    iTrustHTTPTest.assertLogged(TransactionType.LAB_RESULTS_VIEW, 9000000000L, 2L, "");
}