/**
 * Returns whether a user is deactivated.
 * Currently works only for patients
 *
 * @param mid
 * 		The MID of the user to look up.
 * @return Activation status of the user
 * @throws DBException
 * 		
 * @throws iTrustException
 * 		
 */
public boolean getDeactivated(long mid) throws DBException, iTrustException {
    Role role = getUserRole(mid);
    switch (role) {
        case PATIENT :
            Connection conn = null;
            PreparedStatement pstmt = null;
            try {
                conn = factory.getConnection();
                pstmt = conn.prepareStatement("SELECT DateOfDeactivation FROM patients WHERE MID=?");
                pstmt.setLong(1, mid);
                ResultSet rs;
                rs = pstmt.executeQuery();
                if (rs.next()) {
                    if ((rs.getString("DateOfDeactivation")) == null) {
                        return false;
                    } else {
                        return true;
                    }
                } else {
                    throw new iTrustException("User does not exist");
                }
            } catch (SQLException e) {
                e.printStackTrace();
                throw new DBException(e);
            } finally {
                DBUtil.closeConnection(conn, pstmt);
            }
        default :
            return false;
    }
}