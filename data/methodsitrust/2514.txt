/**
 * Called from the JSP to initialize the list of Lab Procedure beans needed
 * to produce the desired chart.
 *
 * @param lpsbs
 * 		Lab procedure beans for the patient viewing
 * @param name
 * 		Name of the lab procedure
 */
public void initializeLabProcedures(List<LabProcedureBean> lpbs, String name) {
    lpBeans = lpbs;
    this.labProcedureName = name;
    quarters = new String[historyLength];
    values = new double[historyLength];
    numEntries = new int[historyLength];
    Calendar cal = Calendar.getInstance();
    cal.add(Calendar.MONTH, ((-3) * ((historyLength) - 1)));
    int startMonth = cal.get(Calendar.MONTH);
    int startQ = startMonth / 3;
    SimpleDateFormat sdf = new SimpleDateFormat("yy");
    for (int i = 0; i < (historyLength); i++) {
        quarters[i] = (("Q" + (((startQ + i) % 4) + 1)) + " ") + (sdf.format(cal.getTime()));
        values[i] = 0;
        numEntries[i] = 0;
        cal.add(Calendar.MONTH, 3);
    }
}