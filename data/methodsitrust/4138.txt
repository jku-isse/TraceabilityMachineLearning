public void testReport() throws Exception {
    WebConversation wc = login("2", "pw");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - Patient Home", wr.getTitle());
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 2L, 0, "");
    wr = wr.getLinkWith("Prescription Records").click();
    assertEquals("iTrust - Get My Prescription Report", wr.getTitle());
    WebForm patientForm = wr.getForms()[0];
    // patientForm.getScriptableObject().setParameterValue("UID_PATIENTID", "2");
    patientForm.getButtons()[0].click();
    iTrustHTTPTest.assertLogged(TransactionType.PRESCRIPTION_REPORT_VIEW, 2L, 2L, "");
    wr = wc.getCurrentPage();
    patientForm = wr.getForms()[1];
    patientForm.setParameter("checking0", "Y");
    patientForm.getButtons()[0].click();
    wr = wc.getCurrentPage();
    assertEquals("iTrust - Report Adverse Event", wr.getTitle());
    patientForm = wr.getFormWithID("mainForm");
    patientForm.getScriptableObject().setParameterValue("Comment", "My joints hurt and my muscles ache. Ive been having severe nausea after taking this medication.");
    wr = patientForm.submit();
    wr = wc.getCurrentPage();
    assertEquals("iTrust - Patient Home", wr.getTitle());
    assertTrue(wr.getText().contains("Adverse Event Successfully Reported"));
    iTrustHTTPTest.assertLogged(TransactionType.ADVERSE_EVENT_REPORT, 2L, 0, "");
}