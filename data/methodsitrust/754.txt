/**
 * Looks up all the prescriptions given by a certain HCP with the same ICD code.
 *
 * @param hcpid
 * 		The MID of the HCP
 * @param icdcode
 * 		The ICD code of the prescription we are looking up.
 * @return A java.util.List of PrescriptionBeans made by this HCP of this ICD code.
 * @throws DBException
 * 		
 */
public List<PrescriptionBean> getPrescriptionsByHCPAndICD(long hcpid, String icdcode) throws DBException {
    List<PrescriptionBean> list = new ArrayList<PrescriptionBean>();
    List<OfficeVisitBean> ovs = officeVisitDAO.getAllOfficeVisitsForDiagnosis(icdcode);
    for (int i = 0; i < (ovs.size()); i++) {
        if ((ovs.get(i).getHcpID()) == hcpid) {
            long ovid = ovs.get(i).getID();
            List<PrescriptionBean> prescriptions = prescriptionsDAO.getList(ovid);
            list.addAll(prescriptions);
        }
    }
    return list;
}