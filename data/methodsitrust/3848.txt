public void testAddDiagnosisGood() throws Exception {
    // login UAP
    WebConversation wc = login("9000000000", "pw");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - HCP Home", wr.getTitle());
    // click All Patients
    wr = wr.getLinkWith("All Patients").click();
    // Select Trend Setter
    wr = wr.getLinkWith("Trend Setter").click();
    // Edit visit
    wr = wr.getLinkWith("Aug 30, 2011").click();
    // Submit add diagnosis form for tuberculosis
    WebForm diagnosisForm = wr.getFormWithID("diagnosisForm");
    diagnosisForm.setParameter("ICDCode", "11.40");
    wr = diagnosisForm.submit();
    // Should not show any validation errors
    assertNotNull(wr.getElementWithID("iTrustFooter"));
    assertTrue(wr.getText().contains("Diagnosis information successfully updated"));
}