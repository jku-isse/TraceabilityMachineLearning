/**
 * Tests deleting (canceling) an existing referral from the referrals list.
 *
 * @throws Exception
 * 		Exceptions will be thrown if any of the .get*WithID() calls fail.
 */
public void testDeleteExistingReferral() throws Exception {
    WebConversation wc = login("9000000000", "pw");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - HCP Home", wr.getTitle());
    // click Document Office Visit
    wr = wr.getLinkWith("Sent Referrals").click();
    // select the patient
    WebForm form = wr.getFormWithID("editReferralForm");
    form.getButtons()[0].click();
    // we should be on the edit referral page now
    wr = wc.getCurrentPage();
    assertEquals("iTrust - Edit Referral", wr.getTitle());
    // click the delete button and confirm
    form = wr.getFormWithID("editReferralForm");
    form.getButtonWithID("submitDelete").click();
    wr = wc.getCurrentPage();
    assertEquals("iTrust - Edit Referral", wr.getTitle());
    form = wr.getFormWithID("editReferralForm");
    form.getButtonWithID("submitCreate").click();
    // we should be back on the edit office visit page
    wr = wc.getCurrentPage();
    assertEquals("iTrust - View Sent Referrals", wr.getTitle());
    // verify that no exceptions were thrown
    assertFalse(wr.getText().contains("NumberFormatException"));
    assertFalse(wr.getText().contains("<h2>Oops! Your page wasnt found</h2>"));
    assertFalse(wr.getText().contains("NullPointerException"));
}