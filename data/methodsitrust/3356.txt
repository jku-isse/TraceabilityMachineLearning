public void testGetReferralsForPatient() {
    ReferralBean r = new ReferralBean();
    r.setId(1L);
    r.setSenderID(2L);
    r.setReceiverID(3L);
    r.setPatientID(4L);
    r.setReferralDetails("Five");
    r.setOvid(6L);
    r.setViewedByHCP(true);
    r.setViewedByPatient(true);
    try {
        dao.addReferral(r);
        List<ReferralBean> referrals = dao.getReferralsForPatient(4L);
        assertTrue(((referrals.size()) == 1));
    } catch (DBException e) {
        fail("DBException should not have been thrown");
    }
}