/**
 * Checks to see if a patient needs the Pneumococcal immunization
 *
 * @param count
 * 		which immunization they are on
 * @param patientAge
 * 		how old the patient is
 * @param time
 * 		what the current date is
 * @return when the immunization should be given
 */
public static String testPneumo(int count, Date patientDOB, long time, long firstDoseTime) {
    String reason = "";
    Date firstDose = new Date(firstDoseTime);
    long weeks = ((Calendar.getInstance().getTimeInMillis()) - time) / (GetVisitRemindersAction.WEEK_IN_MILLIS);
    // long ageFirst = patientAge - (firstDoseTime / (1000 * 60 * 60 * 24 * 7));
    if (0 == count) {
        if (GetVisitRemindersAction.olderThan(patientDOB, 0, 0, 6))
            reason += "90669 Pneumococcal (6 weeks), ";

    } else
        if (1 == count) {
            if (((GetVisitRemindersAction.olderThan(patientDOB, 0, 4, 0)) && (!(GetVisitRemindersAction.firstDoseAfter(patientDOB, firstDose, 1, 0, 0)))) && (4 <= weeks))
                reason += "90669 Pneumococcal (4 months), ";
            else
                if ((((GetVisitRemindersAction.olderThan(patientDOB, 0, 4, 0)) && (GetVisitRemindersAction.firstDoseAfter(patientDOB, firstDose, 1, 0, 0))) && (!(GetVisitRemindersAction.firstDoseAfter(patientDOB, firstDose, 1, 2, 0)))) && (8 <= weeks))
                    reason += "90669 Pneumococcal (4 months), ";


        } else
            if (2 == count) {
                if (((GetVisitRemindersAction.olderThan(patientDOB, 0, 6, 0)) && (4 <= weeks)) && (!(GetVisitRemindersAction.firstDoseAfter(patientDOB, firstDose, 1, 0, 0))))
                    reason += "90669 Pneumococcal (6 months), ";

            } else
                if (3 == count) {
                    if (((GetVisitRemindersAction.olderThan(patientDOB, 1, 0, 0)) && (8 <= weeks)) && (!(GetVisitRemindersAction.firstDoseAfter(patientDOB, firstDose, 1, 0, 0))))
                        reason += "90669 Pneumococcal (12 months), ";

                }



    return reason;
}