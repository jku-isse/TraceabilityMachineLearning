public void testEditERDetails() throws Exception {
    // login admin
    WebConversation wc = login("9000000001", "pw");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - Admin Home", wr.getTitle());
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 9000000001L, 0L, "");
    // click on Add ER
    wr = wr.getLinkWith("Add ER").click();
    // add the ER
    assertEquals("iTrust - Add ER", wr.getTitle());
    WebForm form = wr.getForms()[0];
    form.setParameter("firstName", "Nick");
    form.setParameter("lastName", "Oftime");
    form.setParameter("email", "nick@itrust.com");
    wr = form.submit();
    WebTable table = wr.getTables()[0];
    String newMID = table.getCellAsText(1, 1);
    // Verify new emergency responder data is present
    assertTrue(wr.getText().contains("New ER Nick Oftime succesfully added!"));
    iTrustHTTPTest.assertLogged(TransactionType.ER_CREATE, 9000000001L, Long.parseLong(newMID), "");
    wr = wr.getLinkWith("Continue to personnel information.").click();
    form = wr.getForms()[0];
    form.setParameter("streetAddress1", "900 Main Campus Dr");
    form.setParameter("streetAddress2", "Box 2509");
    form.setParameter("city", "Raleigh");
    form.setParameter("state", "NC");
    form.setParameter("zip", "27606-1234");
    form.setParameter("phone", "919-100-1000");
    form.getSubmitButtons()[0].click();
    wr = wc.getCurrentPage();
    assertTrue(wr.getText().contains("Information Successfully Updated"));
    iTrustHTTPTest.assertLogged(TransactionType.ER_EDIT, 9000000001L, Long.parseLong(newMID), "");
}