/**
 * Test RemoveLabProcedure
 *
 * @throws Exception
 * 		
 */
public void testRemoveLabProcedure() throws Exception {
    // login UAP
    WebConversation wc = login("8000000009", "uappass1");
    WebResponse wr = wc.getCurrentPage();
    assertEquals("iTrust - UAP Home", wr.getTitle());
    // click Document Office Visit
    wr = wr.getLinkWith("Document Office Visit").click();
    // choose patient 2
    WebForm patientForm = wr.getForms()[0];
    patientForm.getScriptableObject().setParameterValue("UID_PATIENTID", "2");
    patientForm.getButtons()[1].click();
    wr = wc.getCurrentPage();
    assertEquals(((iTrustHTTPTest.ADDRESS) + "auth/hcp-uap/documentOfficeVisit.jsp"), wr.getURL().toString());
    // click 10/10/2005
    wr.getLinkWith("06/10/2007").click();
    wr = wc.getCurrentPage();
    assertEquals(((iTrustHTTPTest.ADDRESS) + "auth/hcp-uap/editOfficeVisit.jsp?ovID=955"), wr.getURL().toString());
    assertEquals("iTrust - Document Office Visit", wr.getTitle());
    // remove lab procedure
    WebTable wt = wr.getTableStartingWith("[Top]Laboratory Procedures");
    assertFalse(wt.getText().contains("No Laboratory Procedures on record"));
    // click the remove link
    wt = wr.getTableStartingWith("[Top]Laboratory Procedures");
    wr = wt.getTableCell(2, 10).getLinkWith("Remove").click();
    // confirm delete
    assertEquals("iTrust - Delete Lab Procedure", wr.getTitle());
    WebForm form = wr.getFormWithID("deleteLabProcedureForm");
    form.getButtonWithID("confirmDelete").click();
    wr = wc.getCurrentPage();
    iTrustHTTPTest.assertLogged(TransactionType.OFFICE_VISIT_EDIT, 8000000009L, 2L, "Office visit");
    assertEquals("iTrust - Document Office Visit", wr.getTitle());
    assertTrue(wr.getText().contains("information successfully updated"));
    // Cannot remove the next lab procedure--it is not in the In_Transit or
    // Received states.
    wt = wr.getTableStartingWith("[Top]Laboratory Procedures");
    assertEquals(null, wt.getTableCell(2, 10).getLinkWith("Remove"));
    /* wr = wt.getTableCell(2, 9).getLinkWith("Remove").click();
    assertLogged(TransactionType.OFFICE_VISIT_EDIT, 8000000009L, 2L, "Office visit");
    assertEquals("iTrust - Document Office Visit", wr.getTitle());
    assertTrue(wr.getText().contains("information successfully updated"));
     */
    iTrustHTTPTest.assertLogged(TransactionType.OFFICE_VISIT_VIEW, 8000000009L, 2L, "Office visit");
    wt = wr.getTableStartingWith("[top]Laboratory Procedures");
    assertFalse(wt.getText().contains("No Laboratory Procedures on record"));
}