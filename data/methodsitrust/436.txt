public void testEditPatientInstructions() throws Exception {
    // Without an Office visit ID, this should throw.
    action = new EditPatientInstructionsAction(factory, 9000000000L, "2");
    try {
        action.editPatientInstructions(bean);
        fail("Expected an exception.");
    } catch (iTrustException e) {
        assertEquals("Cannot perform action.  OfficeVisit is not saved.", e.getMessage());
    }
    // Try editing patient specific instructions.
    gen.uc44_acceptance_scenario_2();
    action = new EditPatientInstructionsAction(factory, 9000000004L, "1", "44100");
    assertEquals(1, action.getPatientInstructions().size());
    bean = action.getPatientInstructions().get(0);
    bean.setName("This instruction has been modified!");
    action.editPatientInstructions(bean);
    assertEquals(1, action.getPatientInstructions().size());
    assertEquals("This instruction has been modified!", action.getPatientInstructions().get(0).getName());
}