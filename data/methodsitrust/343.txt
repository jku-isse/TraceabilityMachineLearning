/**
 * Create an OfficeVisitAction that is not yet associated with an actual
 * office visit.  When update() is called, it will be saved.  Until then,
 * any attempt to save prescriptions, procedures, lab procedures,
 * immunizations, or diagnoses will raise an exception.
 *
 * @param factory
 * 		
 * @param loggedInMID
 * 		
 * @param pidString
 * 		
 * @throws iTrustException
 * 		
 */
public EditOfficeVisitAction(DAOFactory factory, long loggedInMID, String pidString) throws iTrustException {
    super(factory, loggedInMID, pidString);
    pid = Long.parseLong(pidString);
    ovDAO = factory.getOfficeVisitDAO();
    this.personnelDAO = factory.getPersonnelDAO();
    this.hospitalDAO = factory.getHospitalsDAO();
    this.patDAO = factory.getPatientDAO();
    this.prescriptionsAction = new EditPrescriptionsAction(factory, loggedInMID, pidString);
    this.proceduresAction = new EditProceduresAction(factory, loggedInMID, pidString);
    this.immunizationsAction = new EditImmunizationsAction(factory, loggedInMID, pidString);
    this.diagnosesAction = new EditDiagnosesAction(factory, loggedInMID, pidString);
    this.labProceduresAction = new EditLabProceduresAction(factory, loggedInMID, pidString);
    this.patientInstructionsAction = new EditPatientInstructionsAction(factory, loggedInMID, pidString);
    this.referralsAction = new EditReferralsAction(factory, loggedInMID, pidString);
    this.loggingAction = new EventLoggingAction(factory);
    this.loggedInMID = loggedInMID;
}