// /**
// * Sets the status of a request to Approved
// *
// * @param ID The unique ID of the report.
// * @param approverMID The MID of the person approving the request.
// * @param date The date the approval was made.
// * @throws DBException
// */
// public void approveReportRequest(long ID, long approverMID, Date date) throws DBException {
// Connection conn = null;
// PreparedStatement ps = null;
// try {
// if (ID == 0L) throw new SQLException("ID cannot be null");
// conn = factory.getConnection();
// ps = conn.prepareStatement("UPDATE ReportRequests set ApproverMID = ?, ApprovedDate = ?, Status = Approved where ID = ?");
// ps.setLong(1, approverMID);
// ps.setTimestamp(2, new java.sql.Timestamp(date.getTime()));
// ps.setLong(3, ID);
// ps.executeUpdate();
// } catch (SQLException e) {
// e.printStackTrace();
// throw new DBException(e);
// } finally {
// DBUtil.closeConnection(conn, ps);
// }
// }
// 
// /**
// * Sets the status of a report request to Rejected
// *
// * @param ID The unique ID of the request in question.
// * @param approverMID The MID of the rejecter in question.
// * @param date The date the rejection was made.
// * @param comment A comment describing why the request was rejected.
// * @throws DBException
// */
// public void rejectReportRequest(long ID, long approverMID, Date date, String comment) throws DBException {
// Connection conn = null;
// PreparedStatement ps = null;
// try {
// if (ID == 0L) throw new SQLException("ID cannot be null");
// conn = factory.getConnection();
// ps = conn.prepareStatement("UPDATE ReportRequests set ApproverMID = ?, ApprovedDate = ?, Status = Rejected, comment = ? where ID = ?");
// ps.setLong(1, approverMID);
// ps.setTimestamp(2, new java.sql.Timestamp(date.getTime()));
// ps.setString(3, comment);
// ps.setLong(4, ID);
// ps.executeUpdate();
// } catch (SQLException e) {
// e.printStackTrace();
// throw new DBException(e);
// } finally {
// DBUtil.closeConnection(conn, ps);
// }
// }
/**
 * Sets the status of a report request to Viewed
 *
 * @param ID
 * 		The unique ID of the request in question.
 * @param date
 * 		The date the request was viewed.
 * @throws DBException
 * 		
 */
public void setViewed(long ID, Date date) throws DBException {
    Connection conn = null;
    PreparedStatement ps = null;
    try {
        if (ID == 0L)
            throw new SQLException("ID cannot be null");

        conn = factory.getConnection();
        ps = conn.prepareStatement("UPDATE reportrequests set ViewedDate = ?, Status = Viewed where ID = ?");
        ps.setTimestamp(1, new Timestamp(date.getTime()));
        ps.setLong(2, ID);
        ps.executeUpdate();
    } catch (SQLException e) {
        e.printStackTrace();
        throw new DBException(e);
    } finally {
        DBUtil.closeConnection(conn, ps);
    }
}