public void testProduceDataset() {
    String labProcedureName = "Microscopic Observation";
    Calendar mytime = Calendar.getInstance();
    int quarter = ((mytime.get(Calendar.MONTH)) / 3) + 1;
    List<LabProcedureBean> lpBeans = new LinkedList<LabProcedureBean>();
    LabProcedureBean lp = new LabProcedureBean();
    lp.setLoinc("10763-1");
    lp.setNumericalResult("73");
    lp.setTimestamp(new Timestamp(mytime.getTime().getTime()));
    lpBeans.add(lp);
    Map<String, String> params = new HashMap<String, String>();
    SimpleDateFormat sdf = new SimpleDateFormat("yy");
    try {
        chart.initializeLabProcedures(lpBeans, labProcedureName);
        DefaultCategoryDataset data = ((DefaultCategoryDataset) (chart.produceDataset(params)));
        assertEquals(73.0, data.getValue(labProcedureName, ((("Q" + quarter) + " ") + (sdf.format(mytime.getTime())))));
        assertTrue(chart.hasData());
    } catch (DatasetProduceException e) {
        e.printStackTrace();
        fail();
    }
}