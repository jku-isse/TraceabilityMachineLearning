/**
 * Creates a fake e-mail to notify the user that their records have been altered.
 *
 * @return the e-mail to be sent
 * @throws DBException
 * 		
 */
private Email makeEmail(PrescriptionBean pres, List<String> warnings) throws DBException {
    Email email = new Email();
    PatientBean patient = patientDAO.getPatient(getPid());
    PersonnelBean hcp = personnelDAO.getPersonnel(getHcpid());
    List<String> toAddrs = new ArrayList<String>();
    toAddrs.add(patient.getEmail());
    String message = ((("Health care professional " + (hcp.getFullName())) + " has prescribed ") + (pres.getMedication().getDescription())) + ". However, the following warning(s) were found:";
    for (String warning : warnings) {
        message += warning + "
";
    }
    email.setFrom("no-reply@itrust.com");
    email.setToList(toAddrs);// patient and personal representative

    email.setSubject(String.format("Prescription warning"));
    email.setBody(message);
    return email;
}