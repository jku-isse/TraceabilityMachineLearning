/**
 * This method parses the list of Adverse Event Beans to initialize the chart dataset.
 */
public Object produceDataset(Map params) throws DatasetProduceException {
    // The DefaultCategoryDataset is used for bar charts.
    // This dataset class may change based on the type of chart you wish to produce.
    DefaultCategoryDataset dataset = new DefaultCategoryDataset() {
        /**
         * The generated serializable ID.
         */
        private static final long serialVersionUID = -8238489914590553747L;

        /**
         *
         *
         * @see java.lang.Object#finalize()
         */
        @Override
        protected void finalize() throws Throwable {
            super.finalize();
        }
    };
    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
    // For each Adverse Event in the list,
    // parse the string repreentation of the report date
    // to a Java Date object. Then, get the month of the
    // Date object and increment the value count for that month.
    for (AdverseEventBean event : adverseEvents) {
        Calendar cal = Calendar.getInstance();
        try {
            cal.setTime(sdf.parse(event.getDate()));
        } catch (ParseException e) {
            e.printStackTrace();
            throw new DatasetProduceException(e.getMessage());
        }
        int monthOfReport = cal.get(Calendar.MONTH);
        (values[monthOfReport])++;
    }
    // For each month, add the monthly values to the dataset for
    // producing the chart.
    for (int i = 0; i < 12; i++) {
        // values[i] represents the number of adverse events for month i
        // codeName represents the given prescription/immunization being analyzed
        // month[i] is the static array of month names, to be used as labels on the chart
        dataset.addValue(values[i], codeName, months[i]);
    }
    return dataset;
}