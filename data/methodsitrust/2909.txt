/**
 * Assign an HCP to a hospital. If they have already been assigned to that hospital, then an
 * iTrustException is thrown.
 *
 * @param hcpID
 * 		The HCPs MID to assign to the hospital.
 * @param hospitalID
 * 		The ID of the hospital to assign them to.
 * @return A boolean indicating whether the assignment was a success.
 * @throws DBException
 * 		
 * @throws iTrustException
 * 		
 */
public boolean assignHospital(long hcpID, String hospitalID) throws DBException, iTrustException {
    Connection conn = null;
    PreparedStatement ps = null;
    try {
        conn = factory.getConnection();
        ps = conn.prepareStatement("INSERT INTO hcpassignedhos (HCPID, HosID) VALUES (?,?)");
        ps.setLong(1, hcpID);
        ps.setString(2, hospitalID);
        return 1 == (ps.executeUpdate());
    } catch (SQLException e) {
        if (1062 == (e.getErrorCode()))
            throw new iTrustException(((("HCP " + hcpID) + " already assigned to hospital ") + hospitalID));

        e.printStackTrace();
        throw new DBException(e);
    } finally {
        DBUtil.closeConnection(conn, ps);
    }
}