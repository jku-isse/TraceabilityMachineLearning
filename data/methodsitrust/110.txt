public void testAddApptRequest() throws Exception {
    ApptBean b = new ApptBean();
    b.setApptType("General Checkup");
    b.setHcp(9000000010L);
    b.setPatient(2L);
    String time = "01:45 PM";
    Calendar cal = Calendar.getInstance();
    SimpleDateFormat fo = new SimpleDateFormat("MM/dd/yyyy");
    cal.add(Calendar.DAY_OF_YEAR, 7);
    SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy hh:mm aa");
    time = ((fo.format(cal.getTime())) + " ") + time;
    fo = new SimpleDateFormat("MM/dd/yyyy hh:mm aa");
    Date d = fo.parse(time);
    b.setDate(new Timestamp(d.getTime()));
    ApptRequestBean req = new ApptRequestBean();
    req.setRequestedAppt(b);
    String expected = "The appointment you requested conflicts with other existing appointments.";
    assertEquals(expected, action.addApptRequest(req));
    expected = "Your appointment request has been saved and is pending.";
    cal.set(2012, 7, 20, 18, 45, 0);
    req.getRequestedAppt().setDate(new Timestamp(cal.getTimeInMillis()));
    assertEquals(expected, action.addApptRequest(req));
}