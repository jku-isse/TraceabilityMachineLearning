/**
 * Updates a lab procedure
 *
 * @param b
 * 		the procedure to update
 * @throws DBException
 * 		
 * @throws FormValidationException
 * 		
 */
public void updateProcedure(LabProcedureBean b) throws DBException, FormValidationException {
    validator.validate(b);
    // need to check if status is whats being changed - if new status!=old status send email
    if (!(b.getStatus().equals(lpDAO.getLabProcedure(b.getProcedureID()).getStatus()))) {
        new EmailUtil(factory).sendEmail(makeEmail(b));
    }
    lpDAO.updateLabProcedure(b);
}