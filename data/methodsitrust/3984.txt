public void testHCPSendReplySingleCCRecipient() throws Exception {
    gen.clearMessages();
    gen.messages6();
    // Login
    WebConversation wc = login("9000000000", "pw");
    WebResponse wr = wc.getCurrentPage();
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 9000000000L, 0L, "");
    wr = wr.getLinkWith("Message Inbox").click();
    iTrustHTTPTest.assertLogged(TransactionType.INBOX_VIEW, 9000000000L, 0L, "");
    wr = wr.getLinkWith("Read").click();
    iTrustHTTPTest.assertLogged(TransactionType.MESSAGE_VIEW, 9000000000L, 22L, "Viewed Message: 3");
    // Message List
    wr = wr.getLinkWith("Reply").click();
    // Submit reply
    WebForm wf = wr.getFormWithID("mainForm");
    wf.setParameter("cc", "9000000007");
    wf.getScriptableObject().setParameterValue("messageBody", "I will not be able to make my next schedulded appointment.  Is there anyone who can book another time?");
    wr = wf.submit();
    iTrustHTTPTest.assertLogged(TransactionType.MESSAGE_SEND, 9000000000L, 22L, "9000000007");
    // Create timestamp
    DateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm");
    Date date = new Date();
    String stamp = dateFormat.format(date);
    // Check message in outbox
    wr = wr.getLinkWith("Message Outbox").click();
    assertTrue(wr.getText().contains("RE: Appointment rescheduling"));
    assertTrue(wr.getText().contains("Fozzie Bear"));
    assertTrue(wr.getText().contains("Beaker Beaker"));
    assertTrue(wr.getTableWithID("mailbox").getText().contains(stamp));
    iTrustHTTPTest.assertLogged(TransactionType.OUTBOX_VIEW, 9000000000L, 0L, "");
    // Check bolded message appears in hcp
    wr = wr.getLinkWith("Logout").click();
    iTrustHTTPTest.assertLogged(TransactionType.LOGOUT, 9000000000L, 9000000000L, "");
    // wr = wr.getLinkWith("Log into iTrust").click();
    wc = login("22", "pw");
    wr = wc.getCurrentPage();
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 22L, 0L, "");
    wr = wr.getLinkWith("Message Inbox").click();
    iTrustHTTPTest.assertLogged(TransactionType.INBOX_VIEW, 22L, 0L, "");
    assertEquals("font-weight: bold;", wr.getTableWithID("mailbox").getRows()[1].getAttribute("style"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains("Kelly Doctor"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains("RE: Appointment rescheduling"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains(stamp));
    // Check bolded message appears in hcp
    wr = wr.getLinkWith("Logout").click();
    // wr = wr.getLinkWith("Log into iTrust").click();
    wc = login("9000000007", "pw");
    wr = wc.getCurrentPage();
    iTrustHTTPTest.assertLogged(TransactionType.HOME_VIEW, 9000000007L, 0L, "");
    wr = wr.getLinkWith("Message Inbox").click();
    iTrustHTTPTest.assertLogged(TransactionType.INBOX_VIEW, 9000000007L, 0L, "");
    assertEquals("font-weight: bold;", wr.getTableWithID("mailbox").getRows()[1].getAttribute("style"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains("Kelly Doctor"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains("RE: Appointment rescheduling"));
    assertTrue(wr.getTableWithID("mailbox").getRows()[1].getText().contains(stamp));
}