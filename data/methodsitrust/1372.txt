public void testEquals() throws Exception {
    Email email1 = getTestEmail();
    Email email2 = getTestEmail();
    assertEquals(email1, email2);
    assertTrue(email1.equals(email2));
    email1.setToList(Arrays.asList("first", "second", "thrd"));
    assertFalse(email1.equals(email2));
    email1.setToList(Arrays.asList("first", "second"));
    assertFalse(email1.equals(email2));
    email2.setSubject("");
    assertFalse(email1.equals(email2));
}