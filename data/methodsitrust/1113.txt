/**
 * Returns a list of Parents, Siblings, and Grand Parents of the currently logged in patient
 *
 * @return list of FamilyMemberBeans
 */
public List<FamilyMemberBean> getFamilyHistory() throws iTrustException {
    List<FamilyMemberBean> fam = new ArrayList<FamilyMemberBean>();
    List<FamilyMemberBean> parents = null;
    try {
        parents = familyDAO.getParents(loggedInMID);
        fam.addAll(parents);
        fam.addAll(familyDAO.getSiblings(loggedInMID));
    } catch (DBException e) {
        throw new iTrustException(e.getMessage());
    }
    if (parents != null) {
        List<FamilyMemberBean> grandparents = new ArrayList<FamilyMemberBean>();
        for (FamilyMemberBean parent : parents) {
            try {
                grandparents.addAll(familyDAO.getParents(parent.getMid()));
            } catch (DBException e) {
                throw new iTrustException(e.getMessage());
            }
        }
        fam.addAll(grandparents);
        for (FamilyMemberBean gp : grandparents) {
            gp.setRelation("Grandparent");
        }
    }
    return fam;
}