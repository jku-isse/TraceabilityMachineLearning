public void testObtainInformation() throws Exception {
    action = new EditPHRAction(factory, 9000000000L, "2");
    // Check that the correct call was made - more thorough assertions are in the DAO tests
    assertEquals(2L, action.getPid());
    assertEquals(2L, action.getPatient().getMID());
    assertEquals(2, action.getAllergies().size());
    assertEquals(9, action.getFamily().size());
    assertEquals(2, action.getAllHealthRecords().size());
    // assertTransactionOnly(TransactionType.VIEW_RECORDS, 9000000000L, 2L, "Viewed patient records");
    assertEquals(10, action.getAllOfficeVisits().size());
    gen.clearTransactionLog();
    assertEquals(2, action.getDiseasesAtRisk().size());
    assertTrue(action.doesFamilyMemberHaveHighBP(fmBean));
    assertTrue(action.doesFamilyMemberHaveDiabetes(fmBean));
    assertTrue(action.isFamilyMemberSmoker(fmBean));
    assertFalse(action.doesFamilyMemberHaveCancer(fmBean));
    assertFalse(action.doesFamilyMemberHaveHighCholesterol(fmBean));
    assertFalse(action.doesFamilyMemberHaveHeartDisease(fmBean));
    assertTrue(action.getFamilyMemberCOD(fmBean).contains(""));
    assertEquals(5, new ViewMyRecordsAction(factory, 5L).getFamilyHistory().size());
}