/**
 * Gets all the messages for a certain user MID sorted by name ascending.
 *
 * @param mid
 * 		The MID of the user to be looked up.
 * @return A java.util.List of MessageBeans.
 * @throws SQLException
 * 		
 */
public List<MessageBean> getMessagesFromNameAscending(long mid) throws SQLException {
    Connection conn = null;
    PreparedStatement ps = null;
    ResultSet rs;
    conn = factory.getConnection();
    if (mid >= 999999999) {
        ps = conn.prepareStatement("SELECT message.* FROM message, patients WHERE message.to_id=patients.mid AND message.from_id=? ORDER BY patients.lastName ASC, patients.firstName ASC, message.sent_date ASC");
        ps.setLong(1, mid);
        rs = ps.executeQuery();
    } else {
        ps = conn.prepareStatement("SELECT message.* FROM message, personnel WHERE message.to_id=personnel.mid AND message.from_id=? ORDER BY personnel.lastName ASC, personnel.firstName ASC, message.sent_date ASC");
        ps.setLong(1, mid);
        rs = ps.executeQuery();
    }
    List<MessageBean> mbList = this.mbLoader.loadList(rs);
    DBUtil.closeConnection(conn, ps);
    return mbList;
}