/**
 * Test method for {@link edu.ncsu.csc.itrust.action.ViewPatientReferralsAction#getReferrals(java.lang.String, edu.ncsu.csc.itrust.enums.SortDirection)}.
 *
 * @throws DBException
 * 		
 */
public void testGetReferralsStringSortDirection() throws DBException {
    List<VerboseReferralBean> bean = action.getReferrals("priority", SortDirection.parse("ascending"));
    assertEquals(5, bean.size());
    assertEquals(1, bean.get(0).getPriority());
    assertEquals(1, bean.get(1).getPriority());
    assertEquals(1, bean.get(2).getPriority());
    assertEquals(2, bean.get(3).getPriority());
    assertEquals(1, bean.get(0).getId());
    assertEquals(1, bean.get(0).getPriority());
    assertEquals(2L, bean.get(0).getPatientID());
    assertEquals(9000000000L, bean.get(0).getSenderID());
    assertEquals(9000000003L, bean.get(0).getReceiverID());
    assertEquals("Gandalf will make sure that the virus does not get past your immune system", bean.get(0).getReferralDetails());
    assertEquals(955L, bean.get(0).getOvid());
    assertFalse(bean.get(0).isViewedByHCP());
    assertFalse(bean.get(0).isViewedByPatient());
    assertEquals("07/15/2007 00:00 AM", bean.get(0).getTimeStamp());
    assertEquals("Kelly Doctor", bean.get(0).getSenderName());
    assertEquals("06/10/2007", bean.get(0).getOvDate());
    ReferralBean other = action.getReferralByID(1);
    ReferralBean verbBean = bean.get(0).toReferralBean();
    assertTrue(other.equals(verbBean));
    VerboseReferralBean nextOther = new VerboseReferralBean();
    nextOther.setId(1L);
    nextOther.setSenderID(9000000000L);
    nextOther.setReceiverID(9000000003L);
    nextOther.setOvid(955);
    nextOther.setViewedByHCP(false);
    nextOther.setViewedByPatient(false);
    nextOther.setTimeStamp("07/15/2007 00:00 AM");
    nextOther.setReferralDetails("Gandalf will make sure that the virus does not get past your immune system");
    assertTrue(nextOther.equals(bean.get(0)));
    bean.clear();
    bean = action.getReferrals("priority", SortDirection.parse("descending"));
    assertEquals(5, bean.size());
    assertEquals(1, bean.get(3).getPriority());
    assertEquals(1, bean.get(2).getPriority());
    assertEquals(2, bean.get(1).getPriority());
    assertEquals(3, bean.get(0).getPriority());
}