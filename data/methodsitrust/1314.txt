/**
 * Set a given HCP as declared
 *
 * @param name
 * 		HCP to declare
 * @return An empty string.
 * @throws iTrustException
 * 		
 */
public String declareHCP(String name) throws iTrustException {
    boolean match = false;
    for (HCPVisitBean visit : getVisitedHCPs()) {
        if (0 == (visit.getHCPName().toLowerCase().compareTo(name.toLowerCase()))) {
            match = true;
            Long mid = Long.valueOf(visit.getHCPMID());
            if (!(patientDAO.checkDeclaredHCP(patientMID, visit.getHCPMID()))) {
                declareAction.declareHCP(mid.toString());
            }
            visit.setDesignated(true);
        }
    }
    if (!match) {
        List<PersonnelBean> doclist = docDAO.getAllPersonnel();
        for (PersonnelBean ele : doclist) {
            if (0 == (name.compareTo(ele.getFullName()))) {
                HCPVisitBean visitBean;
                visitBean = new HCPVisitBean();
                visitBean.setHCPMID(ele.getMID());
                visitBean.setHCPName(ele.getFullName());
                visitBean.setOVDate("");
                visitBean.setHCPSpecialty(ele.getSpecialty());
                visitBean.setHCPAddr((((((((((ele.getStreetAddress1()) + " ") + (ele.getStreetAddress2())) + " ") + (ele.getCity())) + ", ") + (ele.getState())) + " ") + (ele.getZip())));
                visitBean.setDesignated(true);
                Long mid = Long.valueOf(ele.getMID());
                if (!(patientDAO.checkDeclaredHCP(patientMID, mid))) {
                    declareAction.declareHCP(mid.toString());
                    // visits.add(visitBean);
                }
            }
        }
    }
    return "";
}