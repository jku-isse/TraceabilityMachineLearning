/**
 * Gets all the messages for a certain user MID sorted by name descending.
 *
 * @param mid
 * 		The MID of the user to be looked up.
 * @return A java.util.List of MessageBeans.
 * @throws SQLException
 * 		
 */
public List<MessageBean> getMessagesNameDescending(long mid) throws SQLException {
    Connection conn = null;
    PreparedStatement ps = null;
    ResultSet rs;
    conn = factory.getConnection();
    if (mid >= 999999999) {
        ps = conn.prepareStatement("SELECT message.* FROM message, patients WHERE message.from_id=patients.mid AND message.to_id=? ORDER BY patients.lastName DESC, patients.firstName DESC, message.sent_date DESC");
        ps.setLong(1, mid);
        rs = ps.executeQuery();
    } else {
        ps = conn.prepareStatement("SELECT message.* FROM message, personnel WHERE message.from_id=personnel.mid AND message.to_id=? ORDER BY personnel.lastName DESC, personnel.firstName DESC, message.sent_date DESC");
        ps.setLong(1, mid);
        rs = ps.executeQuery();
    }
    List<MessageBean> mbList = this.mbLoader.loadList(rs);
    DBUtil.closeConnection(conn, ps);
    return mbList;
}