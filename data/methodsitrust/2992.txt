/**
 * Updates a patients information for the given MID
 *
 * @param p
 * 		The patient bean representing the new information for the patient.
 * @throws DBException
 * 		
 */
public void editPatient(PatientBean p, long hcpid) throws DBException {
    Connection conn = null;
    PreparedStatement ps = null;
    try {
        conn = factory.getConnection();
        ps = conn.prepareStatement(("UPDATE patients SET firstName=?,lastName=?,email=?," + (((((("address1=?,address2=?,city=?,state=?,zip=?,phone=?," + "eName=?,ePhone=?,iCName=?,iCAddress1=?,iCAddress2=?,iCCity=?,") + "ICState=?,iCZip=?,iCPhone=?,iCID=?,DateOfBirth=?,") + "DateOfDeath=?,CauseOfDeath=?,MotherMID=?,FatherMID=?,") + "BloodType=?,Ethnicity=?,Gender=?,TopicalNotes=?, CreditCardType=?, CreditCardNumber=?, ") + "DirectionsToHome=?, Religion=?, Language=?, SpiritualPractices=?, ") + "AlternateName=?, DateOfDeactivation=? WHERE MID=?")));
        patientLoader.loadParameters(ps, p);
        ps.setLong(37, p.getMID());
        ps.executeUpdate();
        addHistory(p.getMID(), hcpid);
    } catch (SQLException e) {
        e.printStackTrace();
        throw new DBException(e);
    } finally {
        DBUtil.closeConnection(conn, ps);
    }
}