/**
 * Creates a hash table with all of the lab procedures to be
 * displayed on the calendar for the month and year being viewed.
 *
 * @param thisMonth
 * 		The month of the calendar to be rendered
 * @param thisYear
 * 		The year of the calendar to be rendered
 * @return A Hashtable containing the LabProcedureBeans to be rendered
 * @throws SQLException
 * 		
 */
public Hashtable<Integer, ArrayList<LabProcedureBean>> getLabProceduresTable(int thisMonth, int thisYear) throws iTrustException {
    List<LabProcedureBean> procs = r_action.getLabs();
    Hashtable<Integer, ArrayList<LabProcedureBean>> ptable = new Hashtable<Integer, ArrayList<LabProcedureBean>>();
    Calendar a = Calendar.getInstance();
    for (LabProcedureBean b : procs) {
        a.setTimeInMillis(b.getTimestamp().getTime());
        if (((a.get(Calendar.MONTH)) == thisMonth) && ((a.get(Calendar.YEAR)) == thisYear)) {
            if (!(ptable.containsKey(a.get(Calendar.DAY_OF_MONTH))))
                ptable.put(a.get(Calendar.DAY_OF_MONTH), new ArrayList<LabProcedureBean>());

            ArrayList<LabProcedureBean> l = ptable.get(a.get(Calendar.DAY_OF_MONTH));
            l.add(b);
            ptable.put(a.get(Calendar.DAY_OF_MONTH), l);
        }
    }
    return ptable;
}