/**
 * Super class validates the patient id
 *
 * @param factory
 * 		The DAOFactory used to create the DAOs for this action.
 * @param loggedInMID
 * 		The MID of the user editing this personnel.
 * @param pidString
 * 		The ID of the user being edited.
 * @throws iTrustException
 * 		
 */
public EditPersonnelAction(DAOFactory factory, long loggedInMID, String pidString) throws iTrustException {
    super(factory, pidString);
    this.authDAO = factory.getAuthDAO();
    long pidlong = Long.parseLong(pidString);
    Role editor = authDAO.getUserRole(loggedInMID);
    Role editing = authDAO.getUserRole(pidlong);
    if ((editor == editing) && (pidlong != loggedInMID)) {
        throw new iTrustException("You can only edit your own demographics!");
    } else
        if ((((editor == (Role.HCP)) && (editing == (Role.ADMIN))) || ((editor == (Role.UAP)) && (editing == (Role.HCP)))) || ((editor == (Role.ADMIN)) && (editing == (Role.UAP)))) {
            throw new iTrustException("You are not authorized to edit this record!");
        }

    this.personnelDAO = factory.getPersonnelDAO();
}