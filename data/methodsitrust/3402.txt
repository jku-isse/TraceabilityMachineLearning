public void testAddDupe() throws DBException, iTrustException, SQLException {
    final String code = "0000A";
    final String descrip0 = "testAddDupe description";
    ProcedureBean proc = genericAdd(code, descrip0);
    try {
        proc.setDescription("");
        cptDAO.addCPTCode(proc);
        fail("CPTCodeTest.testAddDupe failed to catch dupe");
    } catch (iTrustException e) {
        assertEquals("Error: Code already exists.", e.getMessage());
        proc = cptDAO.getCPTCode(code);
        assertEquals(descrip0, proc.getDescription());
    }
}