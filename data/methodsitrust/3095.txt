/**
 * Store pedometer reading and height/weight data for a given patient in the RemoteMonitoringData table
 *
 * @param patientMID
 * 		The MID of the patient
 * @param height
 * 		The height of the patient
 * @param weight
 * 		The weight of the patient
 * @param pedometerReading
 * 		The pedometer reading of the patient
 * @param reporterRole
 * 		The role of the person that reported these monitoring stats
 * @param reporterMID
 * 		The MID of the person that reported these monitoring stats
 * @throws DBException
 * 		
 */
public void storePatientData(long patientMID, RemoteMonitoringDataBean bean, String reporterRole, long reporterMID) throws DBException, iTrustException {
    float height = bean.getHeight();
    float weight = bean.getWeight();
    int pedometer = bean.getPedometerReading();
    int sbp = bean.getSystolicBloodPressure();
    int dbp = bean.getDiastolicBloodPressure();
    int glucose = bean.getGlucoseLevel();
    if (height == 0)
        height = -1;

    if (weight == 0)
        weight = -1;

    if (pedometer == 0)
        pedometer = -1;

    if (sbp == 0)
        sbp = -1;

    if (dbp == 0)
        dbp = -1;

    if (glucose == 0)
        glucose = -1;

    if (((getNumberOfDailyEntries(patientMID, "height")) >= 1) && (height != (-1)))
        throw new iTrustException("Patient height entries for today cannot exceed 1.");

    if (((getNumberOfDailyEntries(patientMID, "weight")) >= 1) && (weight != (-1)))
        throw new iTrustException("Patient weight entries for today cannot exceed 1.");

    if (((getNumberOfDailyEntries(patientMID, "pedometerReading")) >= 1) && (pedometer != (-1)))
        throw new iTrustException("Patient pedometer reading entries for today cannot exceed 1.");

    if (((getNumberOfDailyEntries(patientMID, "glucoseLevel")) >= 10) && (glucose != (-1)))
        throw new iTrustException("Patient glucose level entries for today cannot exceed 10.");

    if (((getNumberOfDailyEntries(patientMID, "systolicBloodPressure")) >= 10) && (sbp != (-1)))
        throw new iTrustException("Patient systolic blood pressure entries for today cannot exceed 10.");

    if (((getNumberOfDailyEntries(patientMID, "diastolicBloodPressure")) >= 10) && (dbp != (-1)))
        throw new iTrustException("Patient diastolic blood pressure entries for today cannot exceed 10.");

    if (reporterRole.equals("patient representative"))
        validatePR(reporterMID, patientMID);

    Connection conn = null;
    PreparedStatement ps = null;
    try {
        conn = factory.getConnection();
        ps = conn.prepareStatement(("INSERT INTO remotemonitoringdata(PatientID, height, weight, " + "pedometerReading, systolicBloodPressure, diastolicBloodPressure, glucoseLevel, ReporterRole, ReporterID) VALUES(?,?,?,?,?,?,?,?,?)"));
        ps.setLong(1, patientMID);
        ps.setFloat(2, height);
        ps.setFloat(3, weight);
        ps.setInt(4, pedometer);
        ps.setInt(5, sbp);
        ps.setInt(6, dbp);
        ps.setInt(7, glucose);
        ps.setString(8, reporterRole);
        ps.setLong(9, reporterMID);
        ps.executeUpdate();
    } catch (SQLException e) {
        e.printStackTrace();
        throw new DBException(e);
    } finally {
        DBUtil.closeConnection(conn, ps);
    }
}